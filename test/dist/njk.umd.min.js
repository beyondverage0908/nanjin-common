!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e=e||self).NJK=n()}(this,function(){"use strict";function e(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function n(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function t(t){for(var r=1;arguments.length>r;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?n(Object(o),!0).forEach(function(n){e(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}var r={loadSDK:function(e,n,t,o){try{if(!this.isLowIE(9)){var i=document.createElement("script");i.src="https://premiumcdn.eastmoney.com/common/js/sentry/sentry.5.15.4.min.js",i.defer=!0,i.onload=function(){r.initSentry(e,n,t,o)},document.head.appendChild(i)}}catch(e){console.log(e)}},initSentry:function(e,n,t,o){try{if(r.isLowIE(9))return!1;if(!window.Sentry)return r.loadSDK(e,n,t,o),!1;Sentry.init({dsn:e,environment:n||"Prod",debug:o||!1,beforeSend:function(e){return"function"==typeof window.SentrybeforeSend&&window.SentrybeforeSend(e),e}}),t&&"function"==typeof t&&(window.SentrybeforeSend=t)}catch(e){console.log(e)}},setSentry:function(e,n){try{tag=tag||[],Sentry.configureScope(function(t){if(Array.isArray(e)&&e.length)for(var r=0;e.length>r;r++)t.setTag(e[r].key,tag[r].value);n&&t.setUser(n)})}catch(e){}},sendError:function(e,n,t){try{t=t||{},Sentry.withScope(function(r){t.finger&&r.setFingerprint(t.finger),t.user&&r.setUser(t.user),r.setExtra("remark",n||""),Sentry.captureException(Error(e))})}catch(e){console.log(e)}},sendMessage:function(e){try{e.level=e.level||"",Sentry.withScope(function(n){e.finger&&n.setFingerprint(e.finger),e.user&&n.setUser(e.user),n.setExtra("remark",e.extra||""),Sentry.captureMessage(e.title,e.level)})}catch(e){}},showUserReport:function(e){try{Sentry.showReportDialog({eventId:e||"",title:"用户反馈收集",lang:"zh",subtitle:"",subtitle2:"",labelName:"姓名",labelEmail:"邮箱",labelComments:"反馈内容",labelClose:"关闭",labelSubmit:"提交",errorGeneric:"网络异常，请重试！",errorFormEntry:"为了更好地帮助您解决问题，请正确填写反馈内容。",successMessage:"您的反馈已发送。谢谢！"})}catch(e){}},isLowIE:function(e){return e=+(e||8),"Microsoft Internet Explorer"==navigator.appName&&parseInt(navigator.appVersion.split(";")[1].replace(/[ ]/g,"").replace("MSIE",""))<e}},o=arguments,i=navigator.userAgent.toLowerCase(),a=function(e,n){return RegExp("(^|\\s)"+n+"(\\s|$)").test(e.className)},c=function(e){if(Array.hasOwnProperty("from"))return Array.from(new Set(e));for(var n={},t=[],r=0;e.length>r;r++)n[e[r]]||(n[e[r]]=!0,t.push(e[r]));return t},s=function(e){return e.reduce(function(e,n){return e+n})},u=Object.freeze({isEmail:function(e){return/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((.[a-zA-Z0-9_-]{2,3}){1,2})$/.test(e)},isMobile:function(e){return/^1[0-9]{10}$/.test(e)},isPhone:function(e){return/^([0-9]{3,4}-)?[0-9]{7,8}$/.test(e)},isURL:function(e){return/^http[s]?:\/\/.*/.test(e)},isString:function(e){return"String"===Object.prototype.toString.call(e).slice(8,-1)},isNumber:function(e){return"Number"===Object.prototype.toString.call(e).slice(8,-1)},isBoolean:function(e){return"Boolean"===Object.prototype.toString.call(e).slice(8,-1)},isFunction:function(e){return"Function"===Object.prototype.toString.call(e).slice(8,-1)},isNull:function(e){return"Null"===Object.prototype.toString.call(e).slice(8,-1)},isUndefined:function(e){return"Undefined"===Object.prototype.toString.call(e).slice(8,-1)},isObj:function(e){return"Object"===Object.prototype.toString.call(e).slice(8,-1)},isArray:function(e){return"Array"===Object.prototype.toString.call(e).slice(8,-1)},isDate:function(e){return"Date"===Object.prototype.toString.call(e).slice(8,-1)},isRegExp:function(e){return"RegExp"===Object.prototype.toString.call(e).slice(8,-1)},isError:function(e){return"Error"===Object.prototype.toString.call(e).slice(8,-1)},isSymbol:function(e){return"Symbol"===Object.prototype.toString.call(e).slice(8,-1)},isPromise:function(e){return"Promise"===Object.prototype.toString.call(e).slice(8,-1)},isSet:function(e){return"Set"===Object.prototype.toString.call(e).slice(8,-1)},ua:i,isWeiXin:function(){return"micromessenger"==i.match(/microMessenger/i)},isDeviceMobile:function(){return/android|webos|iphone|ipod|balckberry/i.test(i)},isQQBrowser:function(){return!!i.match(/mqqbrowser|qzone|qqbrowser|qbwebviewtype/i)},isSpider:function(){return/adsbot|googlebot|bingbot|msnbot|yandexbot|baidubot|robot|careerbot|seznambot|bot|baiduspider|jikespider|symantecspider|scannerlwebcrawler|crawler|360spider|sosospider|sogou web sprider|sogou orion spider/.test(i)},isIos:function(){var e=navigator.userAgent;return-1>=e.indexOf("Android")&&-1>=e.indexOf("Linux")&&(e.indexOf("iPhone")>-1||-1>=e.indexOf("iPad")&&(e.indexOf("Windows Phone"),!1))},isPC:function(){for(var e=navigator.userAgent,n=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],t=!0,r=0;n.length>r;r++)if(e.indexOf(n[r])>0){t=!1;break}return t},removeHtmltag:function(e){return e.replace(/<[^>]+>/g,"")},getQueryString:function(e){var n=RegExp("(^|&)"+e+"=([^&]*)(&|$)","i");return((window.location.search.split("?")[1]||"").match(n)||[])[2]},injectScript:function(e){var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=e;var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(n,t)},download:function(e){var n=navigator.userAgent.toLowerCase().indexOf("chrome")>-1,t=navigator.userAgent.toLowerCase().indexOf("safari")>-1;if(n||t){var r=document.createElement("a");if(r.href=e,void 0!==r.download){var o=e.substring(e.lastIndexOf("/")+1,e.length);r.download=o}if(document.createEvent){var i=document.createEvent("MouseEvents");return i.initEvent("click",!0,!0),r.dispatchEvent(i),!0}}return-1===e.indexOf("?")&&(e+="?download"),window.open(e,"_self"),!0},hasClass:a,addClass:function(e,n){if(!a(e,n)){var t=e.className.split(" ");t.push(n),e.className=t.join(" ")}},removeClass:function(e,n){if(a(e,n)){var t=RegExp("(^|\\s)"+n+"(\\s|$)","g");e.className=e.className.replace(t," ")}},getScrollPosition:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return{x:void 0!==e.pageXOffset?e.pageXOffset:e.scrollLeft,y:void 0!==e.pageYOffset?e.pageYOffset:e.scrollTop}},scrollToTop:function e(){var n=document.documentElement.scrollTop||document.body.scrollTop;n>0&&(window.requestAnimationFrame(e),window.scrollTo(0,n-n/8))},elementIsVisibleInViewport:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=e.getBoundingClientRect(),r=t.top,o=t.left,i=t.bottom,a=t.right,c=window,s=c.innerHeight,u=c.innerWidth;return n?(r>0&&s>r||i>0&&s>i)&&(o>0&&u>o||a>0&&u>a):!(0>r||0>o||i>s||a>u)},shuffle:function(e){for(var n,t=[];e.length>0;)n=Math.floor(Math.random()*e.length),t.push(e[n]),e.splice(n,1);return t},copyTextToClipboard:function(e){var n=document.createElement("textarea");n.style.background="transparent",n.value=e,document.body.appendChild(n),n.select();try{document.execCommand("copy")}catch(e){console.log("Oops, unable to copy")}document.body.removeChild(n)},checkStr:function(e,n){switch(n){case"phone":return/^1[3|4|5|6|7|8|9][0-9]{9}$/.test(e);case"tel":return/^(0\d{2,3}-\d{7,8})(-\d{1,4})?$/.test(e);case"card":return/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(e);case"pwd":return/^[a-zA-Z]\w{5,17}$/.test(e);case"postal":return/[1-9]\d{5}(?!\d)/.test(e);case"QQ":return/^[1-9][0-9]{4,9}$/.test(e);case"email":return/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/.test(e);case"money":return/^\d*(?:\.\d{0,2})?$/.test(e);case"URL":return/(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&:\/~\+#]*[\w\-\@?^=%&\/~\+#])?/.test(e);case"IP":return/((?:(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d))/.test(e);case"date":return/^(\d{4})\-(\d{2})\-(\d{2}) (\d{2})(?:\:\d{2}|:(\d{2}):(\d{2}))$/.test(e)||/^(\d{4})\-(\d{2})\-(\d{2})$/.test(e);case"number":return/^[0-9]$/.test(e);case"english":return/^[a-zA-Z]+$/.test(e);case"chinese":return/^[\\u4E00-\\u9FA5]+$/.test(e);case"lower":return/^[a-z]+$/.test(e);case"upper":return/^[A-Z]+$/.test(e);case"HTML":return/<("[^"]*"|'[^']*'|[^'">])*>/.test(e);default:return!0}},isCardID:function(e){if(!/(^\d{15}$)|(^\d{17}(\d|X|x)$)/.test(e))return console.log("你输入的身份证长度或格式错误"),!1;if(!{11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"}[parseInt(e.substr(0,2))])return console.log("你的身份证地区非法"),!1;var n=(e.substr(6,4)+"-"+ +e.substr(10,2)+"-"+ +e.substr(12,2)).replace(/-/g,"/"),t=new Date(n);if(n!=t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate())return console.log("身份证上的出生日期非法"),!1;for(var r=0,o=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],i=0;e.length-1>i;i++)r+=e[i]*o[i];return e[e.length-1]=="10X98765432"[r%11]||(console.log("你输入的身份证号非法"),!1)},random:function(e,n){return 2===o.length?Math.floor(e+Math.random()*(n+1-e)):null},numberToChinese:function(e){for(var n=new Array("零","一","二","三","四","五","六","七","八","九","十"),t=new Array("","十","百","仟","萬","億","点",""),r=(""+e).replace(/(^0*)/g,"").split("."),o=0,i="",a=r[0].length-1;a>=0;a--){switch(o){case 0:i=t[7]+i;break;case 4:RegExp("0{4}//d{"+(r[0].length-a-1)+"}$").test(r[0])||(i=t[4]+i);break;case 8:i=t[5]+i,t[7]=t[5],o=0}o%4==2&&0!=r[0].charAt(a+2)&&0==r[0].charAt(a+1)&&(i=n[0]+i),0!=r[0].charAt(a)&&(i=n[r[0].charAt(a)]+t[o%4]+i),o++}if(r.length>1)for(i+=t[6],a=0;r[1].length>a;a++)i+=n[r[1].charAt(a)];return"一十"==i&&(i="十"),i.match(/^一/)&&3==i.length&&(i=i.replace("一","")),i},changeToChinese:function(e){if("number"==typeof e&&(e=new String(e)),e=(e=(e=e.replace(/,/g,"")).replace(/ /g,"")).replace(/￥/g,""),isNaN(e))return"";for(var n=(e+"").split("."),t="",r=n[0].length-1;r>=0;r--){if(n[0].length>10)return"";var o="",i=n[0].charAt(r);switch(i){case"0":o="零"+o;break;case"1":o="壹"+o;break;case"2":o="贰"+o;break;case"3":o="叁"+o;break;case"4":o="肆"+o;break;case"5":o="伍"+o;break;case"6":o="陆"+o;break;case"7":o="柒"+o;break;case"8":o="捌"+o;break;case"9":o="玖"+o}switch(n[0].length-r-1){case 0:o+="元";break;case 1:0!=i&&(o+="拾");break;case 2:0!=i&&(o+="佰");break;case 3:0!=i&&(o+="仟");break;case 4:o+="万";break;case 5:0!=i&&(o+="拾");break;case 6:0!=i&&(o+="佰");break;case 7:0!=i&&(o+="仟");break;case 8:o+="亿";break;case 9:o+="拾"}t=o+t}if(-1!=e.indexOf("."))for(n[1].length>2&&(n[1]=n[1].substr(0,2)),r=0;n[1].length>r;r++){switch(o="",i=n[1].charAt(r)){case"0":o="零"+o;break;case"1":o="壹"+o;break;case"2":o="贰"+o;break;case"3":o="叁"+o;break;case"4":o="肆"+o;break;case"5":o="伍"+o;break;case"6":o="陆"+o;break;case"7":o="柒"+o;break;case"8":o="捌"+o;break;case"9":o="玖"+o}0==r&&(o+="角"),1==r&&(o+="分"),t+=o}for(;-1!=t.search("零零");)t=t.replace("零零","零");return"元"==(t=(t=(t=(t=(t=(t=t.replace("零亿","亿")).replace("亿万","亿")).replace("零万","万")).replace("零元","元")).replace("零角","")).replace("零分","")).charAt(t.length-1)&&(t+="整"),t},contains:function(e,n){return-1!=e.indexOf(n)},each:function(e,n){n=n||Function;for(var t=Array.prototype.slice.call(o,1),r=0;e.length>r;r++)n.apply(e,[e[r],r].concat(t))},sort:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.sort(function(t,r){switch(n){case 1:return t-r;case 2:return r-t;case 3:return Math.random()-.5;default:return e}})},unique:c,union:function(e,n){var t=e.concat(n);return c(t)},remove:function(e,n){var t=e.indexOf(n);return t>-1&&e.splice(t,1),e},formArray:function(e){return Array.isArray(e)?e:Array.prototype.slice.call(e)},max:function(e){return Math.max.apply(null,e)},min:function(e){return Math.min.apply(null,e)},sum:s,average:function(e){return s(e)/e.length},trim:function(e,n){switch(n=n||1){case 1:return e.replace(/\s+/g,"");case 2:return e.replace(/(^\s*)|(\s*$)/g,"");case 3:return e.replace(/(^\s*)/g,"");case 4:return e.replace(/(\s*$)/g,"");default:return e}},changeCase:function(e,n){switch(n=n||4){case 1:return e.replace(/\b\w+\b/g,function(e){return e.substring(0,1).toUpperCase()+e.substring(1).toLowerCase()});case 2:return e.replace(/\b\w+\b/g,function(e){return e.substring(0,1).toLowerCase()+e.substring(1).toUpperCase()});case 3:return e.split("").map(function(e){return/[a-z]/.test(e)?e.toUpperCase():e.toLowerCase()}).join("");case 4:return e.toUpperCase();case 5:return e.toLowerCase();default:return e}},checkPwd:function(e){var n=0;return 6>e.length?n:(/[0-9]/.test(e)&&n++,/[a-z]/.test(e)&&n++,/[A-Z]/.test(e)&&n++,/[\.|-|_]/.test(e)&&n++,n)},debouncer:function(e,n){n-(window.debounceTimestamp||0)>(arguments.length>2&&void 0!==arguments[2]?arguments[2]:200)&&(e&&e(),window.debounceTimestamp=n)},insertStr:function(e,n,t){return e.slice(0,n)+t+e.slice(n)},isObjectEqual:function(e,n){var t=Object.getOwnPropertyNames(e);if(t.length!==Object.getOwnPropertyNames(n).length)return!1;for(var r=0;t.length>r;r++){var o=t[r];if(e[o]!==n[o])return!1}return!0},colorToRGB:function(e,n){var t="number"==typeof n;if(!/^(#?)[a-fA-F0-9]{6}$/.test(e))return"";for(var r=e.replace(/#/,""),o=[],i=0;3>i;i++){var a=r.substring(2*i,2*i+2);o.push(parseInt(a,16))}return"rgb"+(t?"a":"")+"("+o.join()+(t?","+n:"")+")"},appendQuery:function(e,n,t){var r=n;return"string"==typeof r&&((r={})[n]=t),r=$.param(r),e.includes("?")?e+="&"+r:e+="?"+r,e},getArrRepeat:function(e,n){return e.filter(function(e,t){return n.includes(e)})},arrChunk:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,t=[],r=0,o=e.length;o>r;r+=n)t.push(e.slice(r,r+n));return{data:t,total:e.length,space:n}},copyToClip:function(e){var n=document.createElement("input");n.setAttribute("value",e),document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),console.log("复制成功")},generateUUID:function(){(new Date).getTime();return"undefinedundefinedundefinedundefinedundefinedundefinedundefinedundefined-undefinedundefinedundefinedundefined-4undefinedundefinedundefined-undefinedundefinedundefinedundefined-undefinedundefinedundefinedundefinedundefinedundefinedundefinedundefinedundefinedundefinedundefinedundefined"}});"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var p,d,l=(function(e,n){!function(e){function n(e){a.inApp(function(){var n=e.data&&JSON.stringify(e.data)||"";a.isAndroid?prompt(e.af,n):a.isIOS&&(window.location.href="".concat(e.if+":"+n))},e.noin),a.inTTJJ(function(){var n=e.data&&JSON.stringify(e.data)||"",t=n?"(".concat(n,")"):"";a.isAndroid?window.location.href="".concat(e.af).concat(t):a.isIOS&&(window.location.href="".concat(e.if).concat(t))},e.nointtjj)}window.__env__=navigator&&navigator.userAgent+";"||"";var t,r,o,i,a=(t=__env__.match(/pkg=(.*?);/),r=__env__.match(/color=(.*?);/),o=__env__.match(/appver=(.*?);/),{inApp:function(e,n){!/eastmoney/.test(__env__.replace("eastmoney_",""))||/eastmoney.marketingapp/gi.test(__env__)?n&&n():e&&e()},inTTJJ:function(e,n){/ttjj/.test(__env__.replace("TTJJ","ttjj"))?e&&e():n&&n()},isTTJJ:/ttjj/.test(__env__.replace("TTJJ","ttjj")),isQQ:/QQ\//.test(__env__),isIOS:/iPhone|iPad/.test(__env__),isAndroid:/Android/.test(__env__),isWeChat:/MicroMessenger/.test(__env__),pkg:t&&t[1]||"",color:r&&r[1]||"",version:o&&o[1]||""}),c=(i=window.location.origin,/marketing.dfcfs.com/gi.test(i)||/marketing.eastmoney.com/gi.test(i)||/marketinghd.eastmoney.com/gi.test(i)||/marketing.18.cn/gi.test(i)||/marketinghd.dfcfs.com/gi.test(i)||/marketing.dfcfs.cn/gi.test(i)||/marketinghd.dfcfs.cn/gi.test(i)?"prod":"cs");console.log("pageEnv",c);var s=function(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e};function u(e,n){var t,r=Object.keys(e);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(e),n&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,t)),r}function p(e,n){var t=document.getElementsByTagName("head")[0],r=document.createElement("script");r.setAttribute("type","text/javascript"),r.setAttribute("src",e),t.appendChild(r),r.onload=function(){n&&n()}}function d(e,n){var t,r=Object.keys(e);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(e),n&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,t)),r}function l(e){for(var n=1;arguments.length>n;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach(function(n){s(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function f(e,t){window.cb_appinfo=function(e){t&&t(e)},n({data:{callbackname:"cb_appinfo",type:e},if:"h5GetModuleInfo",af:"h5GetModuleInfo"})}function m(e){var n,t;return document.cookie.length>0&&-1!=(n=document.cookie.indexOf(e+"="))?(n=n+e.length+1,-1==(t=document.cookie.indexOf(";",n))&&(t=document.cookie.length),unescape(document.cookie.substring(n,t))):""}function g(e,n){var t,r=Object.keys(e);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(e),n&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,t)),r}function h(e){for(var n=1;arguments.length>n;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?g(Object(t),!0).forEach(function(n){s(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function w(e){a.isAndroid?window.location.href="dfcft://webh5?isAd=1&url="+e:a.isIOS&&(window.location.href="eastmoney://page/opensafari?url="+e)}e.AppToast=function(e){var n={msg:e};a.inApp(function(){if(a.isIOS)try{eastmoney.emToast(JSON.stringify(n))}catch(e){}else"undefined"!=window.__EM.prompt?window.__EM.prompt("emToast",JSON.stringify(n)):prompt("emToast",JSON.stringify(n))})},e.EMpushNotification=function(e){window.__callback_EMpushNotification=function(n){e(n)};var n={moduleName:"PushNotification",methodName:"checkPermissions",callbackName:"__callback_EMpushNotification",requestJson:"{}"};a.inApp(function(){a.isIOS?window.location="callHybridMethod:"+JSON.stringify(n):"undefined"!=window.__EM.prompt?window.__EM.prompt("callHybridMethod",JSON.stringify(n)):prompt("callHybridMethod",JSON.stringify(n))},function(){"function"==typeof e&&e({code:404,msg:"不在东财app内"})})},e.__=function(e,n){var t=n.split(".")||[],r=null;if(!e)return r;for(var o=e,i=0;t.length>i;i++){if(!o.hasOwnProperty(t[i])){r=null;break}r=o=o[t[i]]}return r},e.appConfirm=function(e){window.__callback_emH5toNativeAlterView_confirm__=function(){"function"==typeof e.confirm&&e.confirm()},window.__callback_emH5toNativeAlterView_cancel__=function(){"function"==typeof e.cancel&&e.cancel()};var n={title:e.title||"",content:e.content||"",okbt:{},cnacelbt:{}};try{e&&e.confirmButtonText&&(n.okbt.name=e.confirmButtonText,"function"==typeof e.confirm&&(n.okbt.event="__callback_emH5toNativeAlterView_confirm__")),e&&e.cancelButtonText&&(n.cnacelbt.name=e.cancelButtonText,"function"==typeof e.cancel&&(n.cnacelbt.event="__callback_emH5toNativeAlterView_cancel__"))}catch(e){}a.inApp(function(){a.isIOS?window.location="emH5toNativeAlterView:"+JSON.stringify(n):"undefined"!=window.__EM.prompt?window.__EM.prompt("emH5toNativeAlterView",JSON.stringify(n)):prompt("emH5toNativeAlterView",JSON.stringify(n))})},e.appInfo=a,e.closeDfcfWebview=function(){a.inApp(function(){a.isIOS?window.location="goWhere:''":"undefined"!=window.__EM.prompt?window.__EM.prompt("goWhere",""):prompt("emH5Close","")})},e.copyTxt=function(e,t){var r=!0;return a.inApp(function(){window.cb_clipboard=t||function(){},n({data:{callbackname:"cb_clipboard",content:e},if:"emH5clipBoard",af:"emH5ClipBoard"})},function(){var n=document.getElementById(e);n.select(),n.setSelectionRange(0,n.value.length),r=document.execCommand("COPY"),n.blur()}),r},e.emReloadData=function(e){var n=function(e){for(var n=1;arguments.length>n;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach(function(n){s(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({},e);a.inApp(function(){a.isIOS?window.location="emh5reloaddata:"+JSON.stringify(n):prompt("emH5ReloadData",JSON.stringify(n))})},e.formateUrl=function(e){var n,t={};if(e){n=e,t.param={};try{t.query=n.split("?")[1],t.query.split("&").forEach(function(e){var n;e&&(n=e.split("="),t.param[n[0]]=n[1])})}catch(e){}return t&&t.param}return n=window.location,t.hash=n.hash.replace("#",""),t.param={},n.search.slice(1).split("&").forEach(function(e){var n;e&&(n=e.split("="),t.param[n[0]]=n[1])}),t&&t.param},e.getCookie=m,e.getKhDeviceInfo=function(e,n,t){a.inApp(function(){var n={euid:"",gtoken:"",appDeviceType:"",appPackageName:"",appSoftVersion:"",productName:"",channel:"",deviceBrand:"",deviceName:"",osType:"",osVersion:"",imei:"",oaid:"",androidID:"",idfa:"",idfv:"",advChnYzj:"",ip:"",emcustid:"",channel_KH:"",userID:"",isValid:1};f("deviceInfo,passport",function(r){if(r){try{var o=(r=JSON.parse(r))&&r.data;console.log("获取到的App信息为：",o);var i=o&&o.deviceInfo;n.euid=i&&i.euid,n.gtoken=i&&i.gToken,n.appDeviceType=i&&i.deviceType,n.appPackageName=i&&i.appname,n.appSoftVersion=i&&i.appversion,n.productName=i&&i.ProductType,n.deviceBrand=i&&i.deviceBrand,n.deviceName=i&&i.deviceModel,n.osType=i&&i.osType,n.osVersion=i&&i.osVersion,a.isAndroid?(n.channel=i&&i.channel,n.imei=i&&i.mobileimei,n.oaid=i&&i.oaId,n.advChnYzj=i&&i.advChnYzj,n.androidID=i&&i.emAndroidID):(n.idfa=i&&i.idfa,n.idfv=i&&i.idfv);var c=o&&o.passport;c&&(n.userID=c&&c.uid),t&&t.ad_id&&(n.channel_KH=t.ad_id)}catch(r){}e(n)}else e(n)})},function(){a.inTTJJ(function(){console.log("在天天基金App中");var n={webVisitor:m("st_pvi"),cookiesBid:m("qgqp_b_id"),ip:"",emcustid:"",channel_KH:"",userID:"",isValid:1};t&&(t.uid&&(n.userID=t.uid),t.ad_id&&(n.channel_KH=t.ad_id)),e(n)},function(){console.log(m("st_pvi"));var n={webVisitor:m("st_pvi"),cookiesBid:m("qgqp_b_id"),ip:"",emcustid:"",channel_KH:"",userID:"",isValid:1};t&&(t.uid&&(n.userID=t.uid),t.ad_id&&(n.channel_KH=t.ad_id)),e(n),console.log("加载完成")})})},e.getLoginInfo=function(e,t,r){var o=a.isTTJJ;n({data:{callbackname:"window.__n_nativeLoginStatus",callbackMethodName:"window.__n_nativeLoginStatus"},af:o?"emfundapp:getlogindata":"emH5GetLoginStatus",if:o?"emfundapp:getlogindata":"emH5GetLoginStatus",noin:r}),window.__n_nativeLoginStatus=function(n){var r="string"==typeof n?JSON.parse(n):n;0==r.code||r.uid?e&&e(r):t&&t(r)}},e.getModuleInfo=f,e.getOpenAccountLink=function(e){var n;return e=e||"",a.inApp(function(){n="prod"==c?"https://openapp.eastmoney.com/Regist/GotoTransferUser?source=&showBack=1&disablertc=0&redirectdownload=1&disablefund=1&isapp=1"+e:"http://10.10.81.158:8060/Regist/GotoTransferUser?source=&showBack=1&disablertc=0&redirectdownload=1&disablefund=1&isapp=1"+e},function(){n="prod"==c?"https://khh5.eastmoney.com/Regist/GotoTransferUser?source=&showBack=1&disablertc=1&redirectdownload=1&disablefund=1"+e:"https://ceshi.securities.eastmoney.com:7151/Regist/GotoTransferUser?source=&showBack=1&disablertc=1&redirectdownload=1&disablefund=1"+e}),n},e.nShare=function(e){a.inApp(function(){var t;(t=e).type=t.type||"weixin,pengyouquan,weibo,message,qq",n({data:t,af:"onShareClicked",if:"onwebshareclicked"})}),a.inTTJJ(function(){var t;n({data:{WxTitle:(t=e).title,shareTypes:[0,1,2,3],HasWx:!0,WxContent:t.desc,WxUrl:t.url,WxImage:t.img,busitype:0},af:"emfundapp:wx_shareinfo",if:"emfundapp:wx_shareinfo"}),setTimeout(function(){n({af:"emfundapp:ttjj-huodong-weixin-share",if:"emfundapp:ttjj-huodong-weixin-share"})},200)})},e.openApp=function(e){var t={callbackname:"download_app_emk"};window.download_app_emk=e.cb,a.isIOS?t.scheme=e.ios_scheme||"eastmoneyjijin://":t=h(h({},t),{},{appname:e.appName,isLocal:e.isLocal||!1,scheme:e.android_scheme||"eastmoneyjijin://startapp/"}),t=h(h({},t),{},{packagename:e.appName,downloadurl:e.url}),a.inApp(function(){n({data:t,if:"emh5toopenapp",af:"emH5toOpenApp"})},function(){a.inTTJJ(function(){n({data:t,if:"emfundapp:open-other-app",af:"emfundapp:open-other-app"})})})},e.openAppStore=function(e){var n=arguments.length>0&&void 0!==e?e:"com.eastmoney.android.berlin",t=!1;a.inApp(function(){a.isAndroid?w("market://details?id="+n):t=!0},function(){a.inTTJJ(function(){a.isAndroid?window.location.href='emfundapp:appstore-detail:({"appid":"'+n+'"})':t=!0},function(){a.isAndroid?a.isWeChat||a.isQQ||(window.location.href="market://details?id="+n):t=!0})}),a.isIOS&&t&&(window.location.href="http://acttg.eastmoney.com/pub/xxlout_dfcfappdfcf_random_0000287a")},e.openDeepLink=w,e.openOtherApp=function(e){window.__callback_openOtherApp=function(e){e&&"string"==typeof e&&(e=JSON.parse(e))};var n={packageName:"",scheme:""};a.isIOS?n.scheme=e.ios_scheme||"eastmoneyjijin://":(n.scheme=e.android_scheme||"eastmoneyjijin://startapp/",n.packageName=e.appName||"com.eastmoney.android.fund",n.isLocal=e.isLocal||!1);var t={moduleName:"Router",methodName:"openApp",requestJson:n,callbackName:"__callback_openOtherApp"};a.inApp(function(){a.isIOS?window.location="callHybridMethod:"+JSON.stringify(t):"undefined"!=__EM&&"undefined"!=__EM.prompt?__EM.prompt("callHybridMethod",JSON.stringify(t)):prompt("callHybridMethod",JSON.stringify(t))},function(){window.location.href=n.scheme})},e.openTTJJNativeLogin=function(e,n,t){a.inTTJJ(function(){window.emfundLoginCancel=n,window.setCustomerNo=e,window.location.href="emfundapp:tradelogin"},function(){t&&t()})},e.openWebView=function(e){var t={titlebartype:"",emthemetype:"",url:""};"string"==typeof e?t.url=e:t=h(h({},t),e),a.inApp(function(){var n="dfcft://webh5";a.isIOS&&(n="eastmoney://wireless/h5/trade"),window.location.href=n+"?titlebartype=".concat(t.titlebartype,"&emthemetype=").concat(t.emthemetype,"&url=").concat(encodeURIComponent(e))},function(){a.inTTJJ(function(){n({data:t=h(h({},t),{},{oldwinrelease:t.closewebview||!1,noparam:!1}),if:"emfundapp:gonewpage",af:"emfundapp:gonewpage"})},function(){window.location.href=a.isIOS?"eastmoney://wireless/h5/trade?url="+t.url:"dfcft://router/h5?url="+t.url})})},e.pageEnv=c,e.perform=n,e.performNativeLogin=function(e,t){n({data:{callbackname:"window.__n_nativeLogin"},af:"emH5NativeLogin",if:"emH5NativeLogin"}),window.__n_nativeLogin=function(n){var r=JSON.parse(n);0==r.code?e&&e(r):t&&t(r)}},e.request=function(e,n){e&&(e.callback="_native_request_callback"),window._native_request_callback=n,a.inApp(function(){window.location.href="eastmoney://wireless/js/datarequest?data="+encodeURIComponent(JSON.stringify(e))},function(){console.error("没有在app内 就调用了 原生请求。")})},e.setTitle=function(e,t){var r={};e&&(r.title1=e,t&&(r.title2=t)),n({data:r,if:"emH5Title",af:"emH5Title"})},e.shareScreenShotImage=function(e){var n="__callback_emShareScreenShotImage__".concat((new Date).getTime());window[n]=function(n){"function"==typeof e.success&&e.success(n)};var t={type:e.type||"weixin,pengyouquan,weibo",height:e.height||1041,needqrcode:e.needqrcode||0,needtitlebar:e.needtitlebar||0,callbackname:n};a.inApp(function(){if(a.isIOS)try{eastmoney.emShareScreenShotImage(JSON.stringify(t))}catch(e){}else"undefined"!=window.__EM.prompt?window.__EM.prompt("emShareScreenShotImage",JSON.stringify(t)):prompt("emShareScreenShotImage",JSON.stringify(t))})},e.showBtn=function(e){var t={data:{type:e.type,enable:e.enable,btntext:e.btntext},af:"emSetTitleRightBtn",if:"emSetTitleRightBtn"};window.emH5ShareInfo=e.cb,n(t)},e.ttjjLinkTo=function(e){var t;e&&"h5"==e.type?t={LinkType:2,LinkTo:e.linkto,IsVerifyLogin:e.isverifylogin,CloseCurrentPage:e.closewebview}:e&&"deeplink"==e.type?t={LinkType:1,LinkTo:e.linkto,IsVerifyLogin:e.isverifylogin,CloseCurrentPage:e.closewebview}:e&&"weex"==e.type&&(t={LinkType:2,LinkTo:e.linkto,IsVerifyLogin:e.isverifylogin,CloseWeex:e.closewebview}),a.inTTJJ(function(){n({data:t,if:"emfundapp:ttjj-linkto",af:"emfundapp:ttjj-linkto"})})},e.ttjjShowBtn=function(e){var t={data:{WxTitle:e.title,shareTypes:[0,1,2,3],HasWx:!0,WxContent:e.desc,WxUrl:e.url,WxImage:e.img,busitype:0},af:"emfundapp:wx_shareinfo",if:"emfundapp:wx_shareinfo"};n(t)},e.wxDfcfShare=function(e){var n,t;a.isWeChat&&(n={title:e.title||document.title,desc:e.desc||"分享",link:e.url||window.location.href,type:"weixin,pengyouquan",imgUrl:e.img||"",fail:function(){},trigger:function(){e.trigger&&e.trigger()},success:function(){e.success&&e.success()},cancel:function(){e.cancel&&e.cancel()}},t="dfcfshare_cb_".concat((new Date).valueOf()),p("https://res.wx.qq.com/open/js/jweixin-1.6.0.js",function(){p("https://hy.eastmoney.com/emwx2019/GetJsSdkUiPackage?s=".concat(encodeURIComponent(window.location.href),"&cb=").concat(t,"&id=3"),function(){console.log("加载完毕app id")})}),window["".concat(t)]=function(e){console.log(e),wx.config({debug:!1,appId:e.AppId,timestamp:e.Timestamp,nonceStr:e.NonceStr,signature:e.Signature,jsApiList:["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo"]}),wx.ready(function(){wx.onMenuShareAppMessage(n),wx.onMenuShareTimeline(n),wx.onMenuShareQQ(n),wx.onMenuShareWeibo(n)})})},e.wxShare=function(e){var n,t;a.isWeChat&&(n=l(l({},n={title:e.title||document.title,desc:e.desc||"分享",link:e.url||window.location.href,type:"weixin,pengyouquan",imgUrl:e.img||"",fail:function(){},trigger:function(){e.trigger&&e.trigger()},success:function(){e.succ&&e.succ()},cancel:function(){e.cancel&&e.cancel()}}),e),t="share_cb_".concat((new Date).valueOf()),p("https://res.wx.qq.com/open/js/jweixin-1.6.0.js",function(){p("https://wechat.eastmoney.com/api/WX/GetJsSdkUiPackage/1?s=".concat(encodeURIComponent(window.location.href),"&cb=").concat(t),function(){console.log("加载完毕app id")})}),window["".concat(t)]=function(e){wx.config({debug:!1,appId:e.AppId,timestamp:e.Timestamp,nonceStr:e.NonceStr,signature:e.Signature,jsApiList:["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo"]}),wx.ready(function(){wx.onMenuShareAppMessage(n),wx.onMenuShareTimeline(n),wx.onMenuShareQQ(n),wx.onMenuShareWeibo(n)})})},Object.defineProperty(e,"__esModule",{value:!0})}(n)}(p={exports:{}},p.exports),p.exports),f=t({},(d=l)&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d);return t({njsentryCenter:r,njutil:u},f)});
